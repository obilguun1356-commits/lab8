<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <title>Hangman</title>

  <style>
    body {
      font-family: Arial;
      text-align: center;
      padding: 30px;

      background-image: url("https://staticg.sportskeeda.com/skm/assets/live-blog/bg_new.png");
      background-size: cover;
      background-position: center;

      color: white;
      text-shadow: 2px 2px 5px black;
    }

    #Hariult {
      font-size: 30px;
      letter-spacing: 10px;
      margin: 20px;
    }

    #Useg button {
      margin: 4px;
      padding: 10px;
      width: 40px;
      font-size: 16px;
      border-radius: 5px;
      background: rgba(255,255,255,0.8);
      border: none;
      cursor: pointer;
    }

    #Useg button:disabled {
      background: rgba(0,0,0,0.4);
      color: white;
    }

    canvas {
      border: 1px solid white;
      margin-top: 20px;
      background: rgba(0,0,0,0.6);
    }
  </style>

</head>
<body>

  <h1>Hangman</h1>

  <button id="startBtn"
          style="padding: 10px 20px; font-size: 18px; cursor:pointer; margin-bottom: 15px;">
          Ehley
  </button>

  <h2 id="Asuult"></h2>
  <div id="Hariult"></div>

  <canvas id="hangman" width="300" height="300"></canvas>
  <div id="Useg"></div>


<script>
  var questions = [
    'Ò®Ð½ÑÐ³Ð½Ð¸Ð¹ Ð·ÑƒÐ»Ð·Ð°Ð³Ð°?',
    'ÐœÐ¾Ð½Ð³Ð¾Ð»Ñ‹Ð½ Ñ…Ð°Ð¼Ð³Ð¸Ð¹Ð½ Ð³Ò¯Ð½ Ð½ÑƒÑƒÑ€?',
    'Ð”ÑÐ»Ñ…Ð¸Ð¹Ð½ Ñ…Ð°Ð¼Ð³Ð¸Ð¹Ð½ ÑƒÑ€Ñ‚ Ð¼Ó©Ñ€Ó©Ð½?',
    'ÐœÐ¾Ð½Ð³Ð¾Ð»Ñ‹Ð½ â„–1 ÑÑƒÑ€Ð³ÑƒÑƒÐ»ÑŒ?'
  ];

  var answers = [
    'Ð“ÐÐ’ÐÐ ',
    'Ð¥Ó¨Ð’Ð¡Ð“Ó¨Ð›',
    'ÐÐ˜Ð›',
    'ÐœÐ£Ð˜Ð¡'
  ];

  var chosenAnswer = "";
  var display = [];
  var wrong = 0;

  var order = [];
  var currentIndex = 0;

  const qBox = document.getElementById("Asuult");
  const aBox = document.getElementById("Hariult");
  const lettersBox = document.getElementById("Useg");
  const canvas = document.getElementById("hangman");
  const ctx = canvas.getContext("2d");

  function shuffleArray(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
  }

  function clearCanvasAndPath() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.beginPath();
  }

  function draw(step) {
    ctx.strokeStyle = "white";
    ctx.lineWidth = 3;
    ctx.beginPath();

    switch(step) {
      case 1: ctx.moveTo(10,280); ctx.lineTo(290,280); ctx.stroke(); break;
      case 2: ctx.moveTo(60,280); ctx.lineTo(60,40); ctx.stroke(); break;
      case 3: ctx.moveTo(60,40); ctx.lineTo(200,40); ctx.stroke(); break;
      case 4: ctx.moveTo(200,40); ctx.lineTo(200,80); ctx.stroke(); break;
      case 5: ctx.arc(200,110,30,0,Math.PI*2); ctx.stroke(); break;
      case 6: ctx.moveTo(200,140); ctx.lineTo(200,220); ctx.stroke(); break;
      case 7: ctx.moveTo(200,160); ctx.lineTo(160,190); ctx.stroke(); break;
      case 8: ctx.moveTo(200,160); ctx.lineTo(240,190); ctx.stroke(); break;
      case 9: ctx.moveTo(200,220); ctx.lineTo(170,260); ctx.stroke(); break;
      case 10: ctx.moveTo(200,220); ctx.lineTo(230,260); ctx.stroke(); break;
    }
  }

  function startGame() {
    order = Array.from(Array(questions.length).keys());
    shuffleArray(order);
    currentIndex = 0;
    loadQuestion();
  }

  function loadQuestion() {
    clearCanvasAndPath();
    lettersBox.innerHTML = "";
    wrong = 0;

    if (currentIndex >= order.length) {
      qBox.textContent = "";
      aBox.textContent = "";
      alert("Wow bugdiig ni duusgachihlaa 1 od uguy! ðŸŽ‰");
      return;
    }

    const idx = order[currentIndex];
    qBox.textContent = questions[idx];
    chosenAnswer = answers[idx];

    display = chosenAnswer.split("").map(c => c === " " ? " " : "_");
    aBox.textContent = display.join(" ");

    let mongolLetters = [
      "Ð","Ð‘","Ð’","Ð“","Ð”",
      "Ð•","Ð","Ð–","Ð—","Ð˜",
      "Ð™","Ðš","Ð›","Ðœ","Ð",
      "Ðž","Ó¨","ÐŸ","Ð ","Ð¡",
      "Ð¢","Ð£","Ò®","Ð¤","Ð¥",
      "Ð¦","Ð§","Ð¨","Ð©","Ðª",
      "Ð«","Ð¬","Ð­","Ð®","Ð¯"
    ];

    for (let letter of mongolLetters) {
      let btn = document.createElement("button");
      btn.textContent = letter;
      btn.onclick = () => guess(letter, btn);
      lettersBox.appendChild(btn);
    }
  }

  function guess(letter, btn) {

    btn.disabled = true;
    let found = false;

    for (let i = 0; i < chosenAnswer.length; i++) {
      if (display[i] === "_" && chosenAnswer[i] === letter) {
        display[i] = letter;
        found = true;
        break; 
      }
    }

    aBox.textContent = display.join(" ");

    if (found) {
      if (!display.includes("_")) {
        setTimeout(() => {
          alert("Wow Congrats! ðŸŽ‰");
          currentIndex++;
          loadQuestion();
        }, 200);
      }
    } 
    else {
      wrong++;
      draw(wrong);

      if (wrong === 10) {
        setTimeout(() => {
          alert("Loser! Hariult: " + chosenAnswer);
        }, 200);
      }
    }
  }

  document.getElementById("startBtn").onclick = startGame;
</script>

</body>
</html>
